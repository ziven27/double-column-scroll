var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,l=(a,t,o)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[t]=o;import{d as r,c as s,a as u,b as c,t as i,n as p,o as m,h as y,e as h,f,g,i as v,r as b,j as T,w as C,k as E,F as w,l as O,m as _,p as H,q as D,s as I,u as N,v as j,x as k,y as A,z as P,A as Y,B,C as $}from"./vendor.72c782c1.js";var x=r({name:"Card",props:{data:{type:Object,default:()=>{}}},setup:()=>({bigNumber:s((()=>function(e){for(var a=0,t=0;t<e;t++)for(var o=0;o<e;o++)a=a+t+o;return a}(2e3)))})});x.render=function(e,a,t,o,n,d){return m(),u("div",{class:"card",style:p({height:e.data.height+"px"})},[c("div",null,i(e.data.id),1),c("div",null,i(e.bigNumber),1)],4)},x.__scopeId="data-v-3198b4b1";const U=r({name:"CubeDualColumnLayout",setup:(e,{slots:a})=>()=>{const[{children:e}]=a.default();return y("div",{class:"dual-column-layout old"},[y("div",{class:"dual-column-layout--column --left"},e.filter(((e,a)=>a%2==0))),y("div",{class:"dual-column-layout--column --right"},e.filter(((e,a)=>a%2==1)))])}});U.__scopeId="data-v-78cd2658";var G=r({name:"DemoOld",components:{Card:x,DualColumn:U},props:{data:{type:Array,default:()=>{}}},setup:()=>{let e=0;console.log("demo old setUp"),h((()=>{e++,console.time(`old ${e}`)})),f((()=>{g((function(){console.timeEnd(`old ${e}`)}))})),v((()=>{console.log("demo old onUnmounted")}))}});G.render=function(e,a,t,o,n,d){const l=b("Card"),r=b("dual-column");return m(),T(r,null,{default:C((()=>[(m(!0),u(w,null,E(e.data,(e=>(m(),T(l,{key:null==e?void 0:e.id,data:e},null,8,["data"])))),128))])),_:1})};var L=r({name:"OnixDualColLayout",props:{data:{type:Array,default:()=>[]},getItemHeight:{type:Function}},setup:e=>{let a=0;const t=O({dataCols:[[],[]]}),o=(t,o)=>"function"==typeof e.getItemHeight?((t=[])=>{const o=[[],[]];return t.forEach((t=>{const n=e.getItemHeight(t);a>0?(o[1].push(t),a-=n):(o[0].push(t),a+=n)})),o})(t):((e=[],a=0)=>{const t=[[],[]];return e.forEach(((e,o)=>{t[(o+a)%2==0?0:1].push(e)})),t})(t,o);return t.dataCols=o(e.data,0),_((()=>e.data),((e,a)=>{const[n,d]=t.dataCols,[l,r]=o(e.slice(a.length),a.length);t.dataCols=[[...n,...l],[...d,...r]]})),{dataCols:H(t,"dataCols")}}});D("data-v-9e514f64");const K={class:"row"},M={class:"col"},S={class:"col"};I(),L.render=function(e,a,t,o,n,d){return m(),u("div",K,[c("div",M,[(m(!0),u(w,null,E(e.dataCols[0],((a,t)=>N(e.$slots,"default",{item:a,index:t},void 0,!0))),256))]),c("div",S,[(m(!0),u(w,null,E(e.dataCols[1],((a,t)=>N(e.$slots,"default",{item:a,index:t},void 0,!0))),256))])])},L.__scopeId="data-v-9e514f64";var F=r({name:"DemoNew",components:{Card:x,List:L},props:{data:{type:Array,default:()=>{}}},setup:()=>{let e=0,a=!1;console.log("demo new setUp"),h((()=>{a=!a,!0===a&&(e++,console.time(`new ${e}`))})),f((()=>{g((function(){console.timeEnd(`new ${e}`)}))})),v((()=>{console.log("demo new onUnmounted")}));return{getHeight:e=>Number(e.height)}}});F.render=function(e,a,t,o,n,d){const l=b("Card"),r=b("List");return m(),T(r,{data:e.data,"get-item-height":e.getHeight},{default:C((({item:e})=>[j(l,{key:null==e?void 0:e.id,data:e},null,8,["data"])])),_:1},8,["data","get-item-height"])};const q=(e=10)=>{const a=[];for(let t=0;t<e;t++)a.push({id:Number(Math.random().toString().substr(2,2)+Date.now()).toString(36),height:Math.floor(200*Math.random()+100)});return a};var z,V;(V=z||(z={})).HEIGHT="height",V.KEY="key";var J=r({name:"App",components:{DemoOld:G,DemoNew:F},setup:()=>{const e=O({data:[],tabType:z.HEIGHT,appendNumber:10});return r=((e,a)=>{for(var t in a||(a={}))n.call(a,t)&&l(e,t,a[t]);if(o)for(var t of o(a))d.call(a,t)&&l(e,t,a[t]);return e})({},k(e)),a(r,t({appendData:()=>{e.data=[...e.data,...q(e.appendNumber)],g((()=>{window.scrollTo(0,document.documentElement.scrollHeight)}))},TAB_TYPE:z,changeOrderType:a=>{e.tabType=a.target.value,e.data=q(e.appendNumber)}}));var r}});D("data-v-c09328c0");const Q={class:"header-wrap"},R={class:"header"},W={class:"df aic jcsb mb8"},X=[c("option",{value:"height"},"按高度排序 (优化后)",-1),c("option",{value:"key"},"按索引排序 (优化前)",-1)],Z={key:0},ee={key:1},ae={class:"df aic"},te=B(" 每次添加： ");I(),J.render=function(e,a,t,o,n,d){const l=b("demo-new"),r=b("demo-old");return m(),u(w,null,[c("div",Q,[c("div",R,[c("div",W,[c("select",{onChange:a[0]||(a[0]=(...a)=>e.changeOrderType&&e.changeOrderType(...a))},X,32),e.tabType===e.TAB_TYPE.HEIGHT?(m(),u("p",Z,"按照每个子模块高度排序")):A("",!0),e.tabType===e.TAB_TYPE.KEY?(m(),u("p",ee,"单数往左双数往右")):A("",!0)]),c("div",ae,[te,P(c("input",{type:"number","onUpdate:modelValue":a[1]||(a[1]=a=>e.appendNumber=a)},null,512),[[Y,e.appendNumber]]),c("button",{type:"button",onClick:a[2]||(a[2]=(...a)=>e.appendData&&e.appendData(...a))},"添加数据")])])]),e.tabType===e.TAB_TYPE.HEIGHT?(m(),T(l,{key:0,data:e.data},null,8,["data"])):A("",!0),e.tabType===e.TAB_TYPE.KEY?(m(),T(r,{key:1,data:e.data},null,8,["data"])):A("",!0)],64)},J.__scopeId="data-v-c09328c0",$(J).mount("#app");
